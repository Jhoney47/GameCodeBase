# 游戏码宝 - 移动应用设计文档

## 设计理念

游戏码宝是一个专注于收集和展示中国游戏兑换码的工具类移动应用，遵循Apple Human Interface Guidelines(HIG)，提供简洁、高效、易用的用户体验。设计针对移动竖屏(9:16)和单手操作优化。

## 核心功能

1. **兑换码浏览** - 查看最新的游戏兑换码列表
2. **游戏筛选** - 按游戏名称动态筛选兑换码
3. **搜索功能** - 搜索游戏名称或兑换码
4. **一键复制** - 快速复制兑换码到剪贴板
5. **排序功能** - 按最新发布、可信度、即将过期排序
6. **云端同步** - 从GitHub仓库自动获取最新数据

## 屏幕列表

### 1. 首页(Home Screen)
- **主要内容**: 
  - 顶部品牌标题"游戏码宝"和游戏手柄图标
  - 搜索栏(支持游戏名称和兑换码搜索)
  - 动态游戏筛选标签(根据JSON数据自动生成)
  - 排序选项(最新发布、可信度最高、即将过期)
  - 类型筛选(全部、永久、限时)
  - 兑换码卡片列表(响应式网格布局)
- **功能**:
  - 展示最新兑换码
  - 实时搜索和筛选
  - 下拉刷新
  - 点击卡片查看详情

### 2. 兑换码详情屏幕(Code Detail Screen)
- **主要内容**:
  - 游戏名称和图标
  - 兑换码(大字体显示，可复制)
  - 复制按钮(带触觉反馈)
  - 奖励内容描述
  - 来源平台标签
  - 发布时间
  - 有效期提示
  - 可信度评分
- **功能**:
  - 一键复制兑换码
  - 显示完整信息
  - 返回按钮

## 关键用户流程

### 主流程1: 查看和复制兑换码
1. 用户打开应用 → 首页显示最新兑换码列表(从GitHub JSON加载)
2. 用户浏览列表 → 点击感兴趣的兑换码卡片
3. 进入详情页 → 查看完整信息
4. 点击"复制兑换码"按钮 → 兑换码复制到剪贴板
5. 显示复制成功提示 → 用户可以去游戏中使用

### 主流程2: 筛选特定游戏的兑换码
1. 用户在首页 → 查看动态生成的游戏筛选标签
2. 点击特定游戏标签 → 列表只显示该游戏的兑换码
3. 点击"全部"标签 → 恢复显示所有游戏

### 主流程3: 搜索兑换码
1. 用户点击顶部搜索栏 → 输入游戏名称或兑换码关键词
2. 实时过滤显示匹配的兑换码 → 用户查看结果
3. 清除搜索 → 恢复显示所有兑换码

### 主流程4: 刷新获取最新数据
1. 用户在首页 → 下拉列表触发刷新
2. 显示加载指示器 → 从GitHub Raw API获取最新JSON数据
3. 刷新完成 → 列表更新显示最新兑换码

## 视觉设计

### 配色方案(参考原项目UI截图)
- **主色调(Primary)**: #6366F1 (靛蓝色) - 用于按钮、标签、强调元素
- **背景色(Background)**: 
  - 浅色模式: #F8FAFC (浅灰蓝)
  - 深色模式: #0F172A (深蓝黑)
- **卡片背景(Surface)**:
  - 浅色模式: #FFFFFF (白色)
  - 深色模式: #1E293B (深灰)
- **文字颜色(Foreground)**:
  - 浅色模式: #1E293B (深灰)
  - 深色模式: #F1F5F9 (浅灰)
- **次要文字(Muted)**: 
  - 浅色模式: #64748B (中灰)
  - 深色模式: #94A3B8 (浅灰)
- **边框色(Border)**: 
  - 浅色模式: #E2E8F0
  - 深色模式: #334155
- **成功色(Success)**: #10B981 - 用于复制成功提示
- **警告色(Warning)**: #F59E0B - 用于即将过期标签
- **错误色(Error)**: #EF4444 - 用于已过期标签

### 组件设计

#### 兑换码卡片(Code Card)
- 圆角矩形卡片(rounded-2xl, 16px)
- 白色/深色背景，轻微阴影
- 包含:
  - 游戏名称(粗体,16px) + 游戏图标
  - 兑换码(等宽字体,18px,居中显示)
  - 奖励描述(14px,次要颜色)
  - 标签行:类型标签(永久/限时)、可信度标签、有效期标签
  - 来源平台(12px) + 发布时间(12px)

#### 游戏筛选标签(Filter Tabs)
- 横向滚动标签栏
- 圆角胶囊形状(rounded-full)
- 选中状态:主色背景+白色文字
- 未选中:透明背景+边框+次要文字

#### 排序按钮
- 圆角按钮(rounded-xl)
- 选中状态:主色背景+白色文字
- 未选中:卡片背景+边框+次要文字

#### 复制按钮
- 大型主按钮
- 主色背景
- 圆角(rounded-full)
- 按下时缩放反馈(scale: 0.97)
- 触觉反馈

#### 搜索栏
- 圆角输入框(rounded-2xl)
- 卡片背景
- 搜索图标
- 轻微阴影

## 交互设计

### 触觉反馈
- 复制按钮: Light Impact
- 筛选标签切换: Light Impact
- 排序按钮: Light Impact
- 刷新完成: Success Notification

### 动画
- 卡片点击: 轻微缩放(0.97)
- 页面切换: 标准iOS滑动过渡
- 列表刷新: 下拉刷新动画
- 复制成功: Toast提示淡入淡出

### 手势
- 下拉刷新: 在列表顶部下拉
- 滑动返回: 从左边缘滑动返回上一页
- 点击卡片: 进入详情页

## 数据展示

### 兑换码列表排序
1. 最新发布: 按发布时间降序
2. 可信度最高: 按可信度评分降序
3. 即将过期: 按过期时间升序(最快过期的在前)

### 空状态
- 无兑换码时显示空状态
- 提示文字:"暂无兑换码" / "没有找到匹配的兑换码"
- 刷新按钮

### 加载状态
- 首次加载: 全屏加载指示器 + "从云端加载数据..."
- 刷新: 下拉刷新指示器

## 响应式设计

### 适配不同屏幕
- **移动端(手机)**:单列布局
- **平板和电脑(Web)**:多列网格布局(使用ResponsiveGrid组件)
  - 小屏幕: 1列
  - 中等屏幕: 2列
  - 大屏幕: 3列
  - 超大屏幕: 4列

### 动态排版
- 游戏筛选标签根据JSON数据动态生成
- 卡片数量根据数据动态渲染
- 网格列数根据屏幕宽度自动调整

## 技术实现要点

### 数据源
- 从GitHub Raw API获取JSON数据
- URL: `https://raw.githubusercontent.com/Jhoney47/GameCodeBase/main/GameCodeBase.json`
- 使用tRPC实现数据获取
- 支持下拉刷新

### 数据结构
```typescript
interface GameCode {
  code: string;
  gameName: string;
  rewardDescription: string;
  sourcePlatform: string;
  sourceUrl: string;
  expireDate: string | null;
  status: "active" | "expired";
  codeType: "permanent" | "limited";
  publishDate: string;
  verificationCount: number;
  reviewStatus: string;
  credibilityScore?: number;
}
```

### 本地存储
- 使用AsyncStorage缓存数据
- 离线可查看上次加载的数据
- 记录上次刷新时间

### 性能优化
- 使用FlatList渲染长列表
- 使用useMemo优化筛选和排序
- 响应式网格布局

## 无需实现的功能
- 用户登录/注册(本地应用)
- 后台管理功能(已有独立后台)
- 社交分享
- 推送通知(初版)
